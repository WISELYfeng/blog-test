# CSS知识总结

2021.2.5

## 浏览器渲染原理

+ 浏览器会根据HTML代码生成HTML树。
+ 根据CSS代码生成CSS树。
+ 将两棵树合并成一颗渲染树(render tree)。
+ 根据渲染树进行布局，在此过程中会计算盒模型大小、位置等。
+ 接着进行绘制，将设置的各种元素样式绘制出来。
+ 最后合成需要展示的内容，内容将按层叠关系显示。

## 触发页面更新的方式

+ 重绘页面：当改变元素的排列顺序、显示时，浏览器会重新绘制页面。
+ 重绘样式：元素的布局没有变化，只动态修改样式时，页面不重绘，只重新绘制元素样式。
+ 跳过页面重绘和样式重绘：改变 transform时，浏览器会直接合成内容而不引起页面重新排布。

## CSS动画

### transform

作用：使元素变形。
常用功能：

+ 位移 `translate`。
+ 缩放 `scale`。
+ 旋转 `rotate`。
+ 倾斜 `skew`(很少用)。

### transition

作用：补充动画中间帧。

语法：`transition:属性名 时长 过渡方式 延迟时间`。

`transition: all 1s linear`。

all代表所有属性。

> 过渡必须有开始和结束。不是所有属性都能用过渡（比如:display:none -> display:block 无效）。

### animation

作用：制作css动画。

语法：

```css
    写法一:
    @keframes 动画名{
        form {
            ...
        }
        to {
            ...
        }
    }
    写法二:
    @keyframes 动画名{
        0%{
            ...
        }
        50%{
            ...
        }
        100%{
            ...
        }
    }
    animation: 动画名 时长 过渡方式
```

可以通过方式二添加任意关键帧。如果要单独设置`animation`属性，需要使用JS单独控制。
