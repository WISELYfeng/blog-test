# JS运算符

2021.3.2

## 算术运算符

1 number运算：`+` `-` `*` `/` `%` `**（指数）`
2 string运算，拼接字符串： 1 + '2' = '12'。
3 由第2点，不建议不同类型数据做运算，js设计并不严谨，会导致意外的结果。
4 NaN ！== NaN。

## 布尔运算符

1 JS的原生API很容易被改写，为了代码安全，一个用`&&`检查`console`是否正常运行的例子：

    ` console&&console.log&&console.log('hi')`

2 设置保底值的写法： `a = a || 100`。但falsy值会影响取值，要注意。

## 二进制运算符

基本用不上的运算，但面试可能会考到其中一些小技巧。

1 使用与运算符判断奇偶：
  
  `偶数 && 1 = 0`

  `奇数 && 1 = 1`
  
  原理是十进制数被转为二进制数运算，二进制最后一位与1运算，偶数最后一位是0，与运算后得0；奇数最后一位是1，与运算后得1。

2 使用 `~~`、`>>`、`<<`、`>>>`取整：

`~~6.55 // 6`

`>>6.55 // 6`

`<<6.55 // 6`

`>>>6.555 // 6`

实际上JS有方法取整数，就是`parseInt()`,但是呢，谁知道面试的时候会不会考到一些偏门方法，在此作记录便于查阅。

## 点运算符

基本类型数据使用点运算符会生成包装对象:

`1.toString() // 得到 '1'`

`1.xxx = 'test'`

该包装对象在使用后将马上被回收,如`1.xxx`只在设置值的那一行生效，之后访问只能得到`undefined`。

> 不要对基本类型数据用点运算符，谁用谁菜。

## 逗号运算符

语法：表达式1，表达式2，...

`let f = (x) => (console.log('hi'), x * x)`

`f(2) // 打印出 hi 4`

这样写可以省略return，但是我感觉就是很怪的写法，在实际开发中不常用。

## 优先级

面试如果问到优先级，直接说不知道，背优先级表是最不靠谱的方法。

开发需要团队合作，避免运算符优先级产生歧义，可以这么做：

1 圆括号优先级最高
2 一律使用圆括号包住需要先运算的部分。
